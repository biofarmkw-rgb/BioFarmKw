{% doc %}
  Featured Products Card

  @description
  Renders a card displaying a list of featured products with optional quick add buttons.

  @param {string} section_id - Section ID
  @param {object} products - Array of products
  @param {string} [title] - Card title
  @param {boolean} [show_quick_add] - Whether to show the quick add button

  @example
  {% render 'featured-products-card', products: collection.products, section_id: section.id, title: 'Featured Products', show_quick_add: true %}
{% enddoc %}

<div class="featured-products-card featured-card">
  <slider-component class="slider" data-slide-desktop data-slide-mobile data-draggable data-slide-smooth>
    <div class="featured-header">
      {%- if title != blank -%}
        <b class="featured-title font-heading">{{ title | escape }}</b>
      {%- endif -%}
      <div class="nav-buttons button-group{% unless products == blank or products.count > 1 and products != blank %} visibility-hidden{% endunless %}">
        <button
          type="button"
          class="nav-button nav-button--prev button button--ethereal button--icon button--mini button--pill focus-inset"
          name="previous"
          aria-label="{{ 'general.slider.previous_slide' | t }}"
          aria-controls="Slider-{{ section_id }}"
        >
          {% render 'icon-sets-basic', icon: 'caret-left' %}
        </button>
        <button
          type="button"
          class="nav-button nav-button--next button button--ethereal button--icon button--mini button--pill focus-inset"
          name="next"
          aria-label="{{ 'general.slider.next_slide' | t }}"
          aria-controls="Slider-{{ section_id }}"
        >
          {% render 'icon-sets-basic', icon: 'caret-right' %}
        </button>
      </div>
    </div>
    <div class="featured-products slider-container">
      <ul id="Slider-{{ section_id }}" class="slider-wrapper">
        {%- for item in products -%}
          <li id="Slide-{{ section_id }}-{{ forloop.index }}" class="slider-slide focus-inset" tabindex="0">
            {% render 'card-product',
              card_product: item,
              image_width: '200px',
              image_width_mobile: '200px',
              show_horizontal: true,
              show_quick_add: show_quick_add
            %}
          </li>
        {%- else -%}
          {%- for i in (1..3) -%}
            {% liquid
              assign index = forloop.index0 | modulo: 6 | plus: 1
              assign placeholder_image = 'product-' | append: index
            %}
            <li id="Slide-{{ section_id }}-{{ forloop.index }}" class="slider-slide focus-inset" tabindex="0">
              {% render 'card-product', show_horizontal: true, placeholder_image: placeholder_image %}
            </li>
          {%- endfor -%}
        {%- endfor -%}
      </ul>
    </div>
  </slider-component>
</div>
